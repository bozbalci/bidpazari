{% extends "core/__base.html" %}

{% load core.tags %}

{% block title %}
    Transactions
{% endblock %}

{% block content %}
    <h3>Transactions</h3>
    <p>Click on the tabs below to see your sales, purchases, deposits and withdrawals.</p>
    <ul class="nav nav-tabs" id="tab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="sales-tab" data-toggle="tab" href="#sales" role="tab"
               aria-controls="sales"
               aria-selected="true">Sales</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="purchases-tab" data-toggle="tab" href="#purchases" role="tab"
               aria-controls="purchases"
               aria-selected="true">Purchases</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="deposits-tab" data-toggle="tab" href="#deposits" role="tab" aria-controls="deposits"
               aria-selected="false">Deposits</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="withdrawals-tab" data-toggle="tab" href="#withdrawals" role="tab"
               aria-controls="withdrawals"
               aria-selected="false">Withdrawals</a>
        </li>
    </ul>
    <div class="tab-content" id="tabContent">
        <div class="tab-pane fade show active" id="sales" role="tabpanel" aria-labelledby="sales-tab">
            {% if sales %}
                <table class="table table-sm table-hover">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Item</th>
                        <th>Sold to</th>
                        <th>Amount</th>
                        <th>Date and time</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for tr in sales %}
                        <tr>
                            <td>{{ tr.id }}</td>
                            <td>{{ tr.item.title }}</td>
                            <td>{{ tr.source.get_full_name }}</td>
                            <td>{{ tr.amount|money }}</td>
                            <td>{{ tr.created }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <h3>You have no sales.</h3>
            {% endif %}
        </div>
        <div class="tab-pane fade" id="purchases" role="tabpanel" aria-labelledby="purchases-tab">
            {% if purchases %}
                <table class="table table-sm table-hover">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Item</th>
                        <th>Bought from</th>
                        <th>Amount</th>
                        <th>Date and time</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for tr in purchases %}
                        <tr>
                            <td>{{ tr.id }}</td>
                            <td>{{ tr.item.title }}</td>
                            <td>{{ tr.destination.get_full_name }}</td>
                            <td>{{ tr.amount|money }}</td>
                            <td>{{ tr.created }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <h3>You have no purchases.</h3>
            {% endif %}
        </div>
        <div class="tab-pane fade" id="deposits" role="tabpanel" aria-labelledby="deposits-tab">
            {% if deposits %}
                <table class="table table-sm table-hover">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Amount</th>
                        <th>Date and time</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for tr in deposits %}
                        <tr>
                            <td>{{ tr.id }}</td>
                            <td>{{ tr.amount|money }}</td>
                            <td>{{ tr.created }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <h3>You have no deposits.</h3>
            {% endif %}
        </div>
        <div class="tab-pane fade" id="withdrawals" role="tabpanel" aria-labelledby="withdrawals-tab">
            {% if withdrawals %}
                <table class="table table-sm table-hover">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Amount</th>
                        <th>Date and time</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for tr in withdrawals %}
                        <tr>
                            <td>{{ tr.id }}</td>
                            <td>{{ tr.amount|money }}</td>
                            <td>{{ tr.created }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <h3>You have no withdrawals.</h3>
            {% endif %}
        </div>
    </div>
{% endblock %}
